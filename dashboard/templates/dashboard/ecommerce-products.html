{% extends 'dashboard/dashboardbase.html' %}
{% load static %}


{% block main-content %}

    <!--start main content-->
     <main class="page-content">
       <!--breadcrumb-->
		<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3">
			<div class="breadcrumb-title pe-3">eCommerce</div>
			<div class="ps-3">
				<nav aria-label="breadcrumb">
					<ol class="breadcrumb mb-0 p-0">
						<li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a>
						</li>
						<li class="breadcrumb-item active" aria-current="page">Products</li>
					</ol>
				</nav>
			</div>
			<div class="ms-auto">
				<div class="btn-group">
					<button type="button" class="btn btn-primary">Settings</button>
					<button type="button" class="btn btn-primary split-bg-primary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown">	<span class="visually-hidden">Toggle Dropdown</span>
					</button>
					<div class="dropdown-menu dropdown-menu-right dropdown-menu-lg-end">	
		<a class="dropdown-item" href="javascript:;">Action</a>
						<a class="dropdown-item" href="javascript:;">Another action</a>
						<a class="dropdown-item" href="javascript:;">Something else here</a>
						<div class="dropdown-divider"></div>	<a class="dropdown-item" href="javascript:;">Separated link</a>
					</div>
				</div>
			</div>
		</div>
		<!--end breadcrumb-->


        <div class="product-count d-flex align-items-center gap-3 gap-lg-4 mb-4 fw-bold flex-wrap font-text1">
          <a href="javascript:;"><span class="me-1">All</span><span class="text-secondary">{{count}}</span></a>
          <a href="javascript:;"><span class="me-1">Published</span><span class="text-secondary">(56242)</span></a>
          <a href="javascript:;"><span class="me-1">Drafts</span><span class="text-secondary">(17)</span></a>
          <a href="javascript:;"><span class="me-1">On Discount</span><span class="text-secondary">(88754)</span></a>
        </div>

        <div class="row g-3">
          <div class="col-auto">
            <div class="position-relative">
              <input class="form-control px-5" type="search" placeholder="Search Products">
              <span class="material-symbols-outlined position-absolute ms-3 translate-middle-y start-0 top-50 fs-5">search</span>
            </div>
          </div>

          {% comment %} <div class="col-auto flex-grow-1 overflow-auto">
            <div class="btn-group position-static">
              <div class="btn-group position-static">
                <button type="button" class="btn border btn-light dropdown-toggle px-4" data-bs-toggle="dropdown" aria-expanded="false">
                  Category
                </button>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="javascript:;">Action</a></li>
                  <li><a class="dropdown-item" href="javascript:;">Another action</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="javascript:;">Something else here</a></li>
                </ul>
              </div>
              <div class="btn-group position-static">
                <button type="button" class="btn border btn-light dropdown-toggle px-4" data-bs-toggle="dropdown" aria-expanded="false">
                  Vendor
                </button>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="javascript:;">Action</a></li>
                  <li><a class="dropdown-item" href="javascript:;">Another action</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="javascript:;">Something else here</a></li>
                </ul>
              </div>
              <div class="btn-group position-static">
                <button type="button" class="btn border btn-light dropdown-toggle px-4" data-bs-toggle="dropdown" aria-expanded="false">
                  Collection
                </button>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="javascript:;">Action</a></li>
                  <li><a class="dropdown-item" href="javascript:;">Another action</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="javascript:;">Something else here</a></li>
                </ul>
              </div>
            </div>  
          </div> {% endcomment %}

          <div class="col-auto">
            <div class="d-flex align-items-center gap-2 justify-content-lg-end">
               <button class="btn btn-light px-4"><i class="bi bi-box-arrow-right me-2"></i>Export</button>
               <a class="dropdown-item" href="{% url 'addnewprod' %}">
                <button class="btn btn-primary px-4"><i class="bi bi-plus-lg me-2"></i>Add Product</button>
              </a>
            </div>
          </div>
        </div><!--end row-->

        <div class="card mt-4">
          <div class="card-body">
            <div class="product-table">
              <div class="table-responsive white-space-nowrap">
                 <table class="table align-middle">
                  <thead class="table-light">
                    <tr>
                      <th>
                        <input class="form-check-input" type="checkbox">
                      </th>
                      <th>record no.<br>(view detail)</th>
                      <th>product_image</th>
                      
                      <th>title</th>
                      <th>category</th>
                      <th>selling_price</th>
                      <th>discounted_price</th>
                      <th>description</th>
                      <th>brand</th>
                      <th>actions<br>(edit or delete)</th>
                      
                      
                      
                    </tr>
                   </thead>


                   <tbody>
                    {% for product in products  %}
                     <tr>
                       <td>
                         <input class="form-check-input" type="checkbox">
                       </td>
                       <td><a class="dropdown-item" href="{% url 'productedit' product.id %}"> {{product.id}} </a></td>
                       <td>
					    <div class="d-flex align-items-center gap-3">
						   <div class="product-box">
                            <img src="{{product.product_image.url}}" alt="">
                            </div>
						   {% comment %} <div class="product-info">
						    <a href="javascript:;" class="product-title">{{product.title}}</a>
						    <p class="mb-0 product-category">{{product.catagory}}</p>
						   </div> {% endcomment %}
						 </div>
                       </td>
                       <td>{{product.title}}</td>
                      <td>{{product.catagory}}</td>
                       <td>{{product.selling_price}}</td>

                       <td>
                       <div class="product-rating">
                          <i class="bi bi-star-half text-warning me-2"></i><span>{{product.discounted_price}}</span>
                       </div>
                        </td>
                       <td>
                        <a href="javascript:;">{{product.description}}</a>
                       </td>
                       <td>
                         {{product.brand}}
                       </td>
                       <td>
                        <div class="dropdown">
                           <button class="btn btn-sm btn-light border dropdown-toggle dropdown-toggle-nocaret" type="button" data-bs-toggle="dropdown">
                           <i class="bi bi-three-dots"></i>
                         </button>
                          <ul class="dropdown-menu">
                          <li><a class="dropdown-item" href="{% url 'productedit' product.id %}">Edit</a></li>
                            <li><a class="dropdown-item" href="{% url 'productdelete' product.id %}">Delete</a></li>
                            {% comment %} <li><a class="dropdown-item" href="#">Something else here</a></li> {% endcomment %}
                          </ul>
                        </div>
                       </td>
                     </tr>
                     {% endfor %}
                   </tbody>


                 </table>
              </div>
            </div>
          </div>
        </div>

     </main>
     <!--end main content-->
 

     {% endblock main-content %}